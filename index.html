<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Personal Finance Dashboard</title>
  
  <!-- External Libraries -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- Stylesheets -->
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="app">
    <!-- Header Section -->
    <header>
      <div>
        <h1>Finance Dashboard</h1>
        <div class="muted">Track income, expenses, budgets & goals in one beautiful place</div>
      </div>
      <div class="row controls">
        <button id="exportBtn">📤 Export</button>
        <button id="importBtn">📥 Import</button>
        <input id="fileInput" type="file" accept="application/json" style="display: none" />
      </div>
    </header>

    <div class="grid">
      <!-- MAIN COLUMN -->
      <div class="stack">
        <!-- Summary Cards -->
        <div class="card top-summary">
          <div class="summary-card">
            <div class="muted small">Net Balance</div>
            <div id="netBalance" style="font-size: 32px; font-weight: 700; margin: 8px 0;">₹0.00</div>
            <div class="small">Combined accounts</div>
          </div>
          <div class="summary-card">
            <div class="muted small">Monthly Income</div>
            <div id="monthlyIncome" style="font-size: 32px; font-weight: 700; margin: 8px 0; color: #10b981;">₹0.00</div>
            <div class="small">This month</div>
          </div>
          <div class="summary-card">
            <div class="muted small">Monthly Expense</div>
            <div id="monthlyExpense" style="font-size: 32px; font-weight: 700; margin: 8px 0; color: #ef4444;">₹0.00</div>
            <div class="small">This month</div>
          </div>
        </div>

        <!-- Add Transaction Form -->
        <div class="card">
          <div class="section-title">➕ Add Transaction</div>
          <form id="txForm">
            <div class="form-grid">
              <select id="txType">
                <option value="expense">💸 Expense</option>
                <option value="income">💵 Income</option>
              </select>
              <input id="txAmount" placeholder="Amount" type="number" min="0" step="0.01" required />
              <input id="txDate" type="date" />
              <select id="txAccount"></select>
              <input id="txCategory" placeholder="Category (e.g., groceries)" />
              <input id="txPayee" placeholder="Payee / Source (optional)" />
            </div>
            <div style="margin-top: 12px; display: flex; gap: 10px; align-items: center;">
              <input id="txNote" placeholder="Note (optional)" style="flex: 1;" />
              <button type="submit">Add Transaction</button>
            </div>
          </form>
        </div>

        <!-- Transactions List -->
        <div class="card">
          <div class="row" style="justify-content: space-between; align-items: center; margin-bottom: 16px;">
            <div class="section-title" style="margin: 0;">📋 Transactions</div>
            <div class="controls-wrap">
              <select id="filterAccount">
                <option value="all">All Accounts</option>
              </select>
              <select id="filterType">
                <option value="all">All Types</option>
                <option value="income">Income</option>
                <option value="expense">Expense</option>
              </select>
              <input id="searchTx" placeholder="🔍 Search..." />
              <button id="clearTx" class="danger">Clear All</button>
            </div>
          </div>
          <div class="list" id="txList">
            <div class="empty">No transactions yet — add one above to get started</div>
          </div>
        </div>

        <!-- Charts Section -->
        <div class="card">
          <div class="section-title">📊 Charts & Insights</div>
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px">
            <div>
              <div class="muted small" style="margin-bottom: 8px;">Income vs Expense (6 months)</div>
              <div class="chart-wrap"><canvas id="ieChart"></canvas></div>
            </div>
            <div>
              <div class="muted small" style="margin-bottom: 8px;">Spending by Category</div>
              <div class="chart-wrap"><canvas id="catChart"></canvas></div>
            </div>
          </div>
        </div>

        <!-- Reports Section -->
        <div class="card">
          <div class="section-title">📈 Reports</div>
          <div class="muted small">Generate detailed financial reports</div>
          <div style="display: flex; gap: 10px; margin-top: 16px; align-items: center; flex-wrap: wrap;">
            <select id="reportRange">
              <option value="monthly">This Month</option>
              <option value="quarter">This Quarter</option>
              <option value="year">This Year</option>
            </select>
            <button id="genReport">Generate Report</button>
            <button id="downloadReport">Download CSV</button>
          </div>
          <div id="reportOut" style="margin-top: 16px"></div>
        </div>
      </div>

      <!-- SIDEBAR -->
      <aside class="stack">
        <!-- Accounts Section -->
        <div class="card">
          <div class="section-title">🏦 Accounts</div>
          <div class="muted small">Manage your bank accounts and wallets</div>
          <div style="display: flex; flex-direction: column; gap: 10px; margin-top: 16px;">
            <input id="newAcctName" placeholder="Account name" />
            <input id="newAcctBalance" placeholder="Initial balance" type="number" step="0.01" />
          </div>
          <div style="display: flex; gap: 10px; margin-top: 12px">
            <button id="addAccount">Add Account</button>
            <button id="clearAllData" class="danger">Clear Data</button>
          </div>
          <div class="acct-list" id="accountsList" style="margin-top: 16px"></div>
        </div>

        <!-- Savings Goals Section -->
        <div class="card">
          <div class="section-title">🎯 Savings Goals</div>
          <div class="muted small">Set goals and track your progress</div>
          <div style="display: grid; gap: 10px; margin-top: 16px">
            <input id="goalName" placeholder="Goal title (e.g., Vacation)" />
            <input id="goalTarget" placeholder="Target amount" type="number" step="0.01" />
            <button id="addGoal">Create Goal</button>
          </div>
          <div id="goalsList" style="margin-top: 16px"></div>
        </div>

        <!-- Budgets Section -->
        <div class="card">
          <div class="section-title">💳 Budgets</div>
          <div class="muted small">Set monthly spending limits</div>
          <div style="display: grid; gap: 10px; margin-top: 16px">
            <input id="budgetCategory" placeholder="Category (e.g., food)" />
            <input id="budgetAmount" placeholder="Monthly limit" type="number" step="0.01" />
            <button id="addBudget">Add Budget</button>
          </div>
          <div id="budgetsList" style="margin-top: 16px"></div>
        </div>

        <!-- Bills Section -->
        <div class="card">
          <div class="section-title">📅 Bills & Reminders</div>
          <div class="muted small">Never miss a payment</div>
          <div style="display: grid; gap: 10px; margin-top: 16px">
            <input id="billName" placeholder="Bill name" />
            <input id="billAmount" placeholder="Amount" type="number" step="0.01" />
            <input id="billDue" placeholder="Due date" type="date" />
            <button id="addBill">Add Bill</button>
          </div>
          <div id="billsList" style="margin-top: 16px"></div>
        </div>
      </aside>
    </div>

    <!-- Footer -->
    <footer>
      🔒 All data is stored locally in your browser.
    </footer>
  </div>

  <!-- JavaScript -->
  <script src="app.js"></script>
</body>
</html>